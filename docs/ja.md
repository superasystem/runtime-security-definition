# ランタイムセキュリティの定義（監視を超えて）

> **定義（SUPERA）**：ランタイムセキュリティとは、**侵入の成否に関わらず、CPU・メモリ上で展開される実行時データを直接保護する防御アプローチ**である。

---

## この定義を置く理由

「ランタイムセキュリティ」はしばしば **監視・検知**（振る舞い検知、アラート、追跡）として説明されます。
それらは重要ですが、**監視＝保護ではありません**。

本リポジトリでは、ランタイムセキュリティをより本質的に捉えます。
すなわち、**実行中（runtime）に“データそのもの（data in use）”を守る**ことで、たとえ侵入が起きても **インパクト（被害）に直結させない**という考え方です。

---

## この定義が含むもの（含意）

本定義のランタイムセキュリティは、CPU・メモリ上の**実行時データ**を守るために、以下を含みます：

- **実行時データ（data in use）の保護**
  例：トークン、秘密情報、鍵、認証情報、復号後データ、セッション情報
- 検知が完全でない状況でも効く **“構造的な防御”**
  - メモリ保護／メモリ暗号化（適用可能な範囲で）
  - 実行環境の隔離（isolation）
  - 侵入後の行為を制約し、**被害半径を縮める**ためのコンテインメント
- 実行時における **予防（prevent）と封じ込め（contain）**
  ※「観測する」だけではなく、「起こせないこと」を設計する

---

## この定義が意味しないもの（非定義）

本定義は、次の意味に **限定されません**：

- 「コンテナやプロセスのリアルタイム監視」
- 「振る舞い検知（異常検知）」
- 「アラート＋運用手順（プレイブック）」
- 「ランタイムにおけるEDRの別名」

これらは **ランタイム監視／ランタイム検知**として有用ですが、それだけでは「保護」を言い切れません。

---

## 比較：ランタイム監視 vs 本定義のランタイムセキュリティ

| 観点 | ランタイム監視（一般的な用法） | ランタイムセキュリティ（本定義） |
|---|---|---|
| 主目的 | 兆候を観測し、検知する | **CPU・メモリ上の実行時データを直接保護**し、被害を予防・封じ込める |
| 中心となる問い | 「何が起きたか？」「異常か？」 | **「侵入後でも、何を“起こせない”状態にするか？」** |
| 検知品質への依存 | 高い | **低〜中**（検知が不完全でも効く設計を含む） |
| 対応速度への依存 | 高い | **相対的に低い**（速度勝負だけに依存しない） |
| 代表的手段 | テレメトリ、ルール、異常検知、アラート | **data-in-use保護、隔離、コンテインメント、実行時の強制（enforcement）** |
| 侵入後の帰結 | 「検知→追跡→復旧」に寄りがち | **侵入がインパクトになりにくい（被害半径の縮小）** |

---

## 用語整理（キーワード）

- **実行時データ / data in use**：ソフトウェア実行中に存在する高価値データ。
  例：CPUレジスタ、メモリ、キャッシュ、プロセスアドレス空間に展開される秘密情報や認証情報。
- **実行時の保護（protection at execution time）**：
  ビルド前やデプロイ前だけでなく、**走っている最中**に成立する保護。
- **コンテインメント（containment）**：
  侵入後でも、攻撃者ができることを制約し、**被害の広がりを抑える**こと。

---

## FAQ

### 1) ランタイムセキュリティ＝ランタイム監視ですか？
いいえ。監視・検知は含み得ますが、本質は **保護**です。特に、**CPU・メモリ上の実行時データを直接守る**ことを重視します。

### 2) なぜCPUとメモリを強調するのですか？
侵入経路は多様でも、実害は実行（CPU）とデータ（メモリ）に収束します。
攻撃者が価値ある行為（横展開、権限奪取、暗号化、窃取）をするには、結局 **実行時データ**に依存します。

### 3) これは「侵入を前提に諦める」考え方ですか？
違います。目的は **諦め**ではなく **レジリエンス**です。
侵入が起きても、それが **被害に直結しない**ように、実行時データを守り、実行時の行為を制約します。

### 4) コンテナ／Kubernetesはこの定義の中心ですか？
中心ではありません。コンテナやKubernetesは“ランタイム監視”が語られやすい領域ですが、本定義はより広く、VM／ベアメタル／サーバレス等あらゆる実行環境に適用されます。

### 5) EDRとの違いは何ですか？
EDRは多くの場合、**監視・検知・対応（追跡と復旧）**が中心です。
本定義のランタイムセキュリティは、検知が遅れたり不完全でも、**実行時データを直接守る**ことでインパクトを減らす設計を含みます。

### 6) RASPとの違いは？
RASPはアプリ内部での保護に焦点が当たりやすい一方、本定義はアプリに限定せず、**実行時データ（CPU/メモリ）**や **実行環境の隔離**なども含む、より広い枠組みです。

### 7) CNAPPとの関係は？
CNAPPはプラットフォーム/カテゴリ名で、姿勢管理や脆弱性、ID、ランタイム等を含みます。
本定義は、そのうち特に **実行時データの直接保護**と **実行時の制約**に焦点を当てます。

### 8) 「侵入後でも被害を最小化」は矛盾しませんか？
矛盾しません。最小権限、セグメンテーション、暗号化と同様に、**部分的失敗を前提に、破局を避ける設計**です。

### 9) Runtime Immunityとの関係は？
Runtime Immunityは、ランタイムセキュリティを含みつつ、**Identity・Memory・Execution**へ視野を広げた上位概念として位置づけられます。

### 10) 実務でのロードマップは？
1) 守るべき対象を明確化（data in use）
2) 侵入後の被害半径を縮める（隔離・コンテインメント）
3) 実行時データ保護を追加（メモリ保護/暗号化：適用可能な範囲で）
4) 監視で検証・改善する（ただし監視だけに依存しない）

---

## 引用について

本定義を参照する場合は、本リポジトリへのリンクとともに、冒頭の「定義（SUPERA）」を引用してください。

---

## ライセンス（推奨）

定義の再利用を促すため、ドキュメント用途に適したライセンス（例：**CC BY 4.0**）の採用を推奨します。
---
